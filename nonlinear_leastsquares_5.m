
F = @(x,t,f) (x(1).*exp(-1/(2*x(2).^2).*(t-x(3)).^2)) + (x(4).*exp(-1/(2*x(5).^2).*(t-x(6)).^2)) - f;
J = @(x,t) [exp(-1/(2*x(2).^2).*(t-x(3)).^2), (t-x(3)).^2 .*(1/x(2).^3) .* x(1) .* exp(-1/(2*x(2).^2).*(t-x(3)).^2),(t-x(3)) .*(1/x(2).^2) .* x(1) .* exp(-1/(2*x(2).^2).*(t-x(3)).^2) ,exp(-1/(2*x(5).^2).*(t-x(6)).^2),(t-x(6)).^2 .*(1/x(5).^3) .* x(4) .*exp(-1/(2*x(5)^2).*(t-x(6)).^2),(t-x(6)) .*(1/x(5)^2) .* x(4) .* exp(-1/(2*x(5)^2).*(t-x(6)).^2)];
        
x = [1;1;-3;1;1;1.5];
for i = 1:20
    xk = x;
    dx = (J(x,t)'*J(x,t))\(-J(x,t)'*F(x,t,f));
    x = x + dx;
    fprintf('Iteration %4d: %2.14f\n', i, norm(x));
    if norm(xk-x) < 10^-8
        fprintf('Converged!')
        break;
    end
end